# 1.0.0 버전 로드맵

현재 버전: **0.5.0** (Beta)  
목표 버전: **1.0.0** (프로덕션 배포 가능한 안정 버전)

---

## 📊 현재 상태 요약

### ✅ 완료된 항목

- ✅ 주요 기능 구현 완료 (인증, 평가, 훈련과정, 서명)
- ✅ Sentry 에러 모니터링 설정
- ✅ React Query 도입 (서버 상태 관리)
- ✅ 성능 최적화 Phase 1, 2, 3 완료 (캐싱, 코드 스플리팅, 서버 컴포넌트, XSS 방지)
- ✅ 유닛 테스트 43/43 통과 (100%)
- ✅ 통합 테스트 7/7 통과 (100%)
- ✅ E2E 테스트 30/35 통과 (85.7%)
- ✅ 문서화 완료
- ✅ 종합 평가: 3.5/5

### ⚠️ 개선 필요 항목

- ⚠️ 대형 컴포넌트 분리 필요
- ⚠️ 보안 강화 (Rate Limiting, CSRF, 입력 검증)
- ⚠️ E2E 테스트 완료 (5개 테스트 미완료)
- ⚠️ 접근성 개선 (a11y)
- ⚠️ API 문서화 개선

---

## 🎯 1.0.0 버전을 위한 필수 개선사항

### 🔴 Critical (반드시 완료)

#### 1. 보안 강화

**현재 상태**: ⭐⭐⭐⭐ (4/5)  
**목표**: ⭐⭐⭐⭐⭐ (5/5)

**필수 작업:**

- [ ] **Rate Limiting 도입**
  - API 엔드포인트별 요청 제한 설정
  - `@upstash/ratelimit` 또는 `next-rate-limit` 사용
  - 로그인, 회원가입 등 민감한 엔드포인트에 엄격한 제한
- [x] **모든 사용자 입력에 Sanitization 적용** ✅
  - `lib/security.ts`의 `sanitizeInput` 함수 적용 완료
  - XSS 공격 방지 (DOMPurify, sanitization) 완료
- [x] **Zod 스키마로 API 입력 검증 표준화** ✅
  - 주요 API 라우트에 Zod 스키마 적용 완료
  - 일관된 검증 로직 구현 완료
- [ ] **CSRF 보호 추가** (선택사항, 필요시)
  - POST/PUT/DELETE 요청에 CSRF 토큰 검증

**예상 작업 시간**: 2-3일

---

#### 2. E2E 테스트 완료

**현재 상태**: 30/35 통과 (85.7%)  
**목표**: 35/35 통과 (100%)

**필수 작업:**

- [ ] **회원가입 플로우 테스트 완료**
  - 실제 Supabase 연결 테스트
  - 이메일 확인 메시지 표시 테스트
- [ ] **중복 계정 체크 테스트**
  - 테스트 계정 설정
  - 중복 가입 방지 테스트
- [ ] **이메일 확인 페이지 접근 테스트**
  - 셀렉터 개선
  - 리다이렉트 로직 테스트
- [ ] **평가 생성/수정 플로우 테스트**
  - 전체 평가 워크플로우 E2E 테스트
- [ ] **관리자 기능 테스트**
  - 사용자 승인 플로우
  - 훈련과정 관리 플로우

**예상 작업 시간**: 2-3일

---

#### 3. 대형 컴포넌트 리팩토링

**현재 상태**: 일부 컴포넌트가 500-990줄  
**목표**: 모든 컴포넌트 200줄 이하

**필수 작업:**

- [ ] **`new-evaluation-form.tsx` 분리** (990줄)
  - 이미 일부 분리됨 (CourseSelectionSection 등)
  - 추가 분리 필요
- [ ] **500줄 이상 컴포넌트 식별 및 분리**
  - 작은 하위 컴포넌트로 분리
  - 재사용 가능한 컴포넌트 추출

**예상 작업 시간**: 2-3일

---

### 🟡 High Priority (강력 권장)

#### 4. 성능 최적화 완료

**현재 상태**: ⭐⭐⭐ (3/5)  
**목표**: ⭐⭐⭐⭐ (4/5)

**필수 작업:**

- [ ] **N+1 쿼리 문제 완전 해결**
  - `evaluations/by-course` 등 남은 N+1 쿼리 해결
  - JOIN 또는 배치 쿼리로 변경
- [ ] **이미지 최적화 완료**
  - 모든 `<img>` 태그를 `next/image`로 변경
  - 이미지 크기 최적화
  - WebP 형식 사용 고려
- [ ] **데이터 페이징 완전 구현**
  - 모든 목록 페이지에 페이징 적용
  - 무한 스크롤 또는 페이지네이션 UI

**예상 작업 시간**: 2-3일

---

#### 5. 접근성 (a11y) 개선

**현재 상태**: ⭐⭐ (2/5)  
**목표**: ⭐⭐⭐⭐ (4/5)

**필수 작업:**

- [ ] **ARIA 속성 추가**
  - 모든 인터랙티브 요소에 `aria-label` 추가
  - 폼 필드에 `aria-describedby` 추가
  - 에러 메시지에 `aria-live` 추가
- [ ] **키보드 네비게이션 완전 지원**
  - 모든 기능이 키보드만으로 사용 가능
  - Tab 순서 검증
  - 포커스 관리 (모달, 드롭다운)
- [ ] **색상 대비 검증**
  - WCAG AA 기준 준수 (최소 4.5:1)
  - 색상 대비 검증 도구 사용
- [ ] **스크린 리더 테스트**
  - NVDA (Windows) 또는 VoiceOver (Mac) 테스트
  - 주요 기능이 스크린 리더로 사용 가능한지 확인

**예상 작업 시간**: 3-4일

---

#### 6. API 문서화

**현재 상태**: Markdown 문서만 존재  
**목표**: OpenAPI/Swagger 스펙 또는 상세 문서

**필수 작업:**

- [ ] **OpenAPI/Swagger 스펙 작성**
  - `swagger-jsdoc` 또는 `next-swagger-doc` 사용
  - 모든 API 엔드포인트 문서화
  - 요청/응답 스키마 정의
- [ ] **또는 상세 Markdown 문서**
  - 각 API 엔드포인트별 상세 설명
  - 예제 요청/응답 포함
  - 에러 코드 정의

**예상 작업 시간**: 2-3일

---

### 🟢 Medium Priority (권장)

#### 7. 코드 품질 개선

**현재 상태**: ⭐⭐⭐ (3/5)  
**목표**: ⭐⭐⭐⭐ (4/5)

**권장 작업:**

- [ ] **공통 API 핸들러 생성**
  - 인증 체크, 에러 처리 통합
  - 중복 코드 제거
- [ ] **타입 정의 통합**
  - 중복 타입 정의 제거
  - `types/` 디렉토리 정리
- [ ] **에러 처리 표준화**
  - 일관된 에러 응답 형식
  - 사용자 친화적 에러 메시지

**예상 작업 시간**: 2-3일

---

#### 8. 모바일 최적화

**현재 상태**: 일부 페이지 모바일 사용성 저하  
**목표**: 모든 페이지 모바일 친화적

**권장 작업:**

- [ ] **반응형 레이아웃 개선**
  - 모든 페이지 모바일 테스트
  - 터치 친화적 버튼 크기
  - 모바일 네비게이션 개선

**예상 작업 시간**: 2-3일

---

#### 9. CI/CD 파이프라인 구축

**현재 상태**: 수동 배포  
**목표**: 자동화된 배포

**권장 작업:**

- [ ] **GitHub Actions 또는 GitLab CI 설정**
  - 자동 테스트 실행
  - 자동 빌드
  - 자동 배포 (선택사항)

**예상 작업 시간**: 1-2일

---

## 📅 예상 일정

### Phase 1: Critical (필수) - 약 1-2주

- 보안 강화 (2-3일)
- E2E 테스트 완료 (2-3일)
- 대형 컴포넌트 리팩토링 (2-3일)

### Phase 2: High Priority - 약 1-2주

- 성능 최적화 완료 (2-3일)
- 접근성 개선 (3-4일)
- API 문서화 (2-3일)

### Phase 3: Medium Priority - 약 1주

- 코드 품질 개선 (2-3일)
- 모바일 최적화 (2-3일)
- CI/CD 구축 (1-2일)

**총 예상 기간**: 약 3-5주

---

## ✅ 1.0.0 버전 체크리스트

### 보안

- [ ] Rate Limiting 도입
- [ ] 모든 입력 Sanitization 적용
- [ ] Zod 스키마로 모든 API 검증
- [ ] CSRF 보호 (필요시)

### 테스트

- [ ] E2E 테스트 100% 통과 (28/28)
- [ ] 유닛 테스트 커버리지 80% 이상
- [ ] 모든 주요 기능 테스트 완료

### 코드 품질

- [ ] 모든 컴포넌트 200줄 이하
- [ ] 공통 로직 추출 완료
- [ ] 타입 정의 통합 완료
- [ ] 에러 처리 표준화 완료

### 성능

- [ ] N+1 쿼리 문제 완전 해결
- [ ] 이미지 최적화 완료
- [ ] 모든 목록 페이지 페이징 구현
- [ ] 페이지 로딩 시간 2초 이하

### 접근성

- [ ] ARIA 속성 추가 완료
- [ ] 키보드 네비게이션 완전 지원
- [ ] 색상 대비 WCAG AA 준수
- [ ] 스크린 리더 테스트 완료

### 문서화

- [ ] API 문서화 완료 (OpenAPI 또는 상세 문서)
- [ ] 사용자 가이드 작성
- [ ] 배포 가이드 작성

### 운영

- [ ] CI/CD 파이프라인 구축
- [ ] 모니터링 설정 완료
- [ ] 로깅 시스템 구축
- [ ] 백업 전략 수립

---

## 🎯 1.0.0 버전 기준

1.0.0 버전은 다음 조건을 모두 만족해야 합니다:

1. **프로덕션 배포 가능한 안정성**

   - Critical 버그 없음
   - 보안 취약점 없음
   - 주요 기능 정상 작동

2. **충분한 테스트 커버리지**

   - E2E 테스트 100% 통과
   - 유닛 테스트 커버리지 80% 이상

3. **완전한 문서화**

   - API 문서 완료
   - 사용자 가이드 작성
   - 배포 가이드 작성

4. **성능 기준 충족**

   - 페이지 로딩 시간 2초 이하
   - API 응답 시간 1초 이하

5. **접근성 기준 충족**
   - WCAG AA 기준 준수
   - 키보드 네비게이션 완전 지원

---

## 📝 참고사항

- 현재 종합 평가 점수: **3.5/5**
- 1.0.0 버전 목표 점수: **4.5/5 이상**
- Critical 항목은 반드시 완료해야 1.0.0 버전으로 승격 가능
- High Priority 항목은 대부분 완료 권장
- Medium Priority 항목은 가능한 범위에서 완료

---

**문서 작성일**: 2025년 11월 27일  
**최종 업데이트**: 2025년 11월 27일
